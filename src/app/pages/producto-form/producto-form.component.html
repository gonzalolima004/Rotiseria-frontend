<div class="container mt-4">
  <h2>{{ modoEdicion ? 'Editar Producto' : 'Nuevo Producto' }}</h2>

  <form [formGroup]="productoForm" (ngSubmit)="onSubmit()" enctype="multipart/form-data" class="mt-3">

    <div class="mb-3">
      <label class="form-label">Nombre del producto</label>
      <input formControlName="nombre_producto" type="text" class="form-control">
    </div>

    <div class="mb-3">
      <label class="form-label">Descripción</label>
      <textarea formControlName="descripcion_producto" class="form-control" rows="3"></textarea>
    </div>

    <div class="mb-3">
      <label class="form-label">Precio</label>
      <input formControlName="precio_producto" type="number" class="form-control" min="0">
    </div>

    <div class="mb-3 form-check">
      <input formControlName="disponible" type="checkbox" class="form-check-input" id="disponibleCheck">
      <label class="form-check-label" for="disponibleCheck">Disponible</label>
    </div>

    <div class="mb-3">
      <label class="form-label">Categoría</label>
      <input formControlName="id_categoria" type="number" class="form-control" placeholder="ID de la categoría">
    </div>

    <div class="mb-3">
      <label class="form-label">Imagen</label>
      <input type="file" class="form-control" (change)="onFileChange($event)" accept="image/*">
    </div>

    <div *ngIf="preview" class="mt-3">
      <p>Vista previa:</p>
      <img [src]="preview" alt="Vista previa" class="img-thumbnail" style="max-height: 200px;">
    </div>

    <button type="submit" class="btn btn-success mt-3">
      {{ modoEdicion ? 'Actualizar' : 'Crear' }}
    </button>

  </form>
</div>
